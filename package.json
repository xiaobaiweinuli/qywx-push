{
  "name": "wechat-notifier-cloudflare",
  "version": "3.0.0",
  "description": "企业微信通知服务 - Cloudflare Pages 版本",
  "type": "module",
  "scripts": {
    "setup": "node setup-and-test.mjs",
    "dev": "wrangler pages dev public --compatibility-date=2024-01-01 --d1=DB --kv=CACHE",
    "dev:debug": "wrangler pages dev public --compatibility-date=2024-01-01 --d1=DB --kv=CACHE --log-level=debug",
    "deploy": "wrangler pages deploy public",
    "deploy:production": "wrangler pages deploy public --branch=main",
    "db:create": "wrangler d1 create wechat-notifier-db",
    "db:init": "wrangler d1 execute wechat-notifier-db --file=./schema.sql",
    "db:query": "wrangler d1 execute wechat-notifier-db --command",
    "db:list": "wrangler d1 list",
    "db:backup": "wrangler d1 export wechat-notifier-db --output backup.sql",
    "db:restore": "wrangler d1 execute wechat-notifier-db --file=backup.sql",
    "db:show-configs": "wrangler d1 execute wechat-notifier-db --command \"SELECT * FROM configurations\"",
    "db:show-messages": "wrangler d1 execute wechat-notifier-db --command \"SELECT * FROM received_messages ORDER BY created_at DESC LIMIT 10\"",
    "db:count": "wrangler d1 execute wechat-notifier-db --command \"SELECT (SELECT COUNT(*) FROM configurations) as configs, (SELECT COUNT(*) FROM received_messages) as messages\"",
    "kv:create": "wrangler kv namespace create CACHE",
    "kv:list": "wrangler kv namespace list",
    "logs": "wrangler pages deployment tail",
    "build": "echo 'No build step required for Cloudflare Pages'"
  },
  "keywords": [
    "wechat",
    "notification",
    "cloudflare",
    "pages",
    "d1",
    "workers"
  ],
  "author": "AI Assistant",
  "license": "MIT",
  "engines": {
    "node": ">=18.0.0"
  },
  "devDependencies": {
    "wrangler": "^3.0.0"
  }
}
